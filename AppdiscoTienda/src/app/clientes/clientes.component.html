<!-- seccion de la navbar -->

<section>
    <app-navbar></app-navbar> 
</section>

<!-- seccion de la tabla -->
<section class="tabla">
    <div class="container" id="advanced-search-form">
        <ng-container *ngIf="!crearCliente; else formClientes"> 
            <button type="button" class="btn btn-dark btn-sm" (click)="mostrarclinete()">Agregar Clientes</button>
            <table datatable [dtOptions]="dtOptions" class="row-border hover">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Nombres</th>
                  <th>Apellidos</th>
                  <th>Documento</th>
                  <th>Direcci贸n</th>
                  <th>Estado</th>
                  <th>Acciones</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of lstCliente">
                  <td>{{ item.id }}</td>
                  <td>{{ item.nombrecli }}</td>
                  <td>{{ item.cedulacli }}</td>
                  <td>{{ item.telefonocli }}</td>
                  <td>{{ item.direccioncli }}</td>
                  <td>{{ item.estado? 'Activo':'Inactivo' }}</td>
                  <td>
                      <button type="button" class="btn btn-dark btn-sm" (click)="editCliente(item)">Editar</button>
                      <button type="button" class="btn btn-outline-danger btn-sm" style="margin-left: 1%;" (click)="DesactivarCliente(item)">Deshabilitar</button>
                  </td>
                </tr>
              </tbody>
            </table>
</ng-container>

<ng-template #formClientes>
    <button type="button" class="btn btn-dark btn-sm" (click)="crearCliente = false">Ver clientes</button>
    <form [formGroup]="formulario">
        <div class="form-group row">
          <label for="staticEmail" class="col-sm-2 col-form-label">Nombres</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" formControlName="nombrecli" [ngClass]="{ 'is-invalid': submitted && f.nombrecli.errors }" placeholder="Nombres">
            <div *ngIf="submitted && f.nombrecli.errors" class="invalid-feedback">
                <div *ngIf="f.nombrecli.errors.required">El nombre es requerido</div>
             </div>
          </div>
        </div>
        <div class="form-group row">
          <label for="inputPassword" class="col-sm-2 col-form-label">Cedula</label>
          <div class="col-sm-10">
            <input type="number" class="form-control" formControlName="cedulacli" [ngClass]="{ 'is-invalid': submitted && f.cedulacli.errors }" placeholder="Cedula">
            <div *ngIf="submitted && f.cedulacli.errors" class="invalid-feedback">
              <div *ngIf="f.cedulacli.errors.required">La cedula es requerida</div>
           </div>
          </div>
        </div>
        <div class="form-group row">
            <label for="inputPassword" class="col-sm-2 col-form-label">Telefono</label>
            <div class="col-sm-10">
              <input type="number" class="form-control"  formControlName="telefonocli" [ngClass]="{ 'is-invalid': submitted && f.telefonocli.errors }" placeholder="Telefono">
              <div *ngIf="submitted && f.telefonocli.errors" class="invalid-feedback">
                <div *ngIf="f.telefonocli.errors.required">El Telefono es requerido</div>
             </div>
            
            </div>
          </div>
          <div class="form-group row">
            <label for="inputPassword" class="col-sm-2 col-form-label">Direcci贸n</label>
            <div class="col-sm-10">
              <input type="text" class="form-control"  formControlName="direccioncli" [ngClass]="{ 'is-invalid': submitted && f.direccioncli.errors }" placeholder="Direcci贸n">
              <div *ngIf="submitted && f.direccioncli.errors" class="invalid-feedback">
                <div *ngIf="f.direccioncli.errors.required">La direcci贸n es requerida</div>
             </div>
            
            </div>
          </div>
          <div class="form-group row">
            <label for="inputPassword" class="col-sm-2 col-form-label"></label>
            <div class="col-sm-10 ">
                <button type="button" *ngIf="!btneditar" class="btn btn-secondary" (click)="Addcliente()" >Guardar</button>
                <button type="button" *ngIf="btneditar" class="btn btn-secondary" (click)="Updatecliente()"  >Editar</button>
                <button type="button" class="btn btn-outline-dark" style="margin-left: 2%;" (click)="resetformulario()">Cancelar</button>
            </div>
          </div>
      </form>
  </ng-template>

</div>
</section>