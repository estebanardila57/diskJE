<section>
    <app-navbar></app-navbar> 
</section>

<!-- seccion de la tabla -->
<section class="tabla">
    <div class="container" id="advanced-search-form">
        <ng-container *ngIf="!crearDisco; else formDiscos"> 
            <button type="button" class="btn btn-dark btn-sm" (click)="mostrarDisco()">Agregar Discos</button>
            <table datatable [dtOptions]="dtOptions" class="row-border hover">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Nombres</th>
                  <th>Apellidos</th>
                  <th>Documento</th>
                  <th>Dirección</th>
                  <th>Estado</th>
                  <th>Acciones</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of lstDisco">
                  <td>{{ item.id }}</td>
                  <td>{{ item.genero }}</td>
                  <td>{{ item.descripcioncd }}</td>
                  <td>{{ item.cantidad }}</td>
                  <td>{{ item.estado? 'Activo':'Inactivo' }}</td>
                  <td>
                      <button type="button" class="btn btn-dark btn-sm" (click)="editDisco(item)">Editar</button>
                      <button type="button" class="btn btn-outline-danger btn-sm" style="margin-left: 1%;" (click)="DesactivarDisco(item)">Deshabilitar</button>
                  </td>
                </tr>
              </tbody>
            </table>
</ng-container>

<ng-template #formDiscos>
    <button type="button" class="btn btn-dark btn-sm" (click)="crearDisco=false">Ver Discos</button>
    <form [formGroup]="formulario">
        <div class="form-group row">
          <label for="staticEmail" class="col-sm-2 col-form-label">Genero</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" formControlName="genero" [ngClass]="{ 'is-invalid': submitted && f.genero.errors }" placeholder="Pop">
            <div *ngIf="submitted && f.genero.errors" class="invalid-feedback">
                <div *ngIf="f.genero.errors.required">El Género es requerido</div>
             </div>
          </div>
        </div>
        <div class="form-group row">
          <label for="inputPassword" class="col-sm-2 col-form-label">Descripción</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" formControlName="descripcioncd" [ngClass]="{ 'is-invalid': submitted && f.descripcioncd.errors }" placeholder="Descripción CD">
            <div *ngIf="submitted && f.descripcioncd.errors" class="invalid-feedback">
              <div *ngIf="f.descripcioncd.errors.required">La descripción es requerida</div>
           </div>
          </div>
        </div>
        <div class="form-group row">
            <label for="inputPassword" class="col-sm-2 col-form-label">Cantidad</label>
            <div class="col-sm-10">
              <input type="number" class="form-control"  formControlName="cantidad" [ngClass]="{ 'is-invalid': submitted && f.cantidad.errors}" placeholder="Telefono">
              <div *ngIf="submitted && f.cantidad.errors" class="invalid-feedback">
                <div *ngIf="f.cantidad.errors.required">La cantidad es requerida</div>
             </div>
            
            </div>
          </div>
          
          <div class="form-group row">
            <label for="inputPassword" class="col-sm-2 col-form-label"></label>
            <div class="col-sm-10 ">
                <button type="button" *ngIf="!btneditar" class="btn btn-secondary" (click)="AddDisco()" >Guardar</button>
                <button type="button" *ngIf="btneditar" class="btn btn-secondary" (click)="UpdateDisco()"  >Editar</button>
                <button type="button" class="btn btn-outline-dark" style="margin-left: 2%;" (click)="resetformulario()">Cancelar</button>
            </div>
          </div>
      </form>
  </ng-template>

</div>
</section>
